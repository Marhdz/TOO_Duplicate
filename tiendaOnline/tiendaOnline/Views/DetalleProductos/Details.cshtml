@model tiendaOnline.Models.DetalleProducto

@using tiendaOnline.Data

<!--Haciendo una inyeccion del context para traer cualquier modelo-->
@inject ApplicationDbContext _context

@{
    ViewData["Title"] = @Model.producto.NombreProducto;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!--Aqui se muestran los detalles de los productos-->

<div class="row">
    <div class="col-md-3">
        <br /><br />
        <table class="table table-bordered table-hover">
            <thead><tr><th>Categorías</th></tr></thead>
            <!--Menu de categorias y subcategorias-->

            @foreach (var categoria in _context.Categoria)
            {
                <tr>
                    <td>
                        <div class="dropdown">
                            <form asp-area="" asp-controller="Productos" asp-action="Index" method="get">
                                <button name="searchString" type="submit" class="dropbtn botonculero3" value="@ViewData["CurrentFilter"]@categoria.nombre_categoria">
                                    @Html.DisplayFor(modelItem => categoria.nombre_categoria)
                                </button>
                                <div class="dropdown-content">
                                    @foreach (var subcategoria in _context.Subcategoria)
                                    {@if (categoria.CategoriaID == subcategoria.CategoriaID)
                                        {

                                            <button class="dropdown-content" name="searchString" type="submit" value="@ViewData["CurrentFilter"]@subcategoria.nombreSubcategoria">@Html.DisplayFor(subcategorias => subcategoria.nombreSubcategoria)</button><br /><br />
                                        }
                                }
                                </div>
                            </form>

                        </div>


                    </td>
                </tr>
            }



        </table>
        <div>
            <a class="btn btn-success" asp-action="Edit" asp-route-id="@Model.DetalleProductoID"><i class="fas fa-pen"></i> Detalles</a>
            <a class="btn btn-warning" asp-controller="Productos" asp-action="Edit" asp-route-id="@Model.producto.ProductoID"><i class="fas fa-pen"></i> Producto</a>
            <a class="btn btn-info" asp-action="Index"><i class="fas fa-home"></i> Mis productos</a>
        </div>
    </div>
    <!--div>
        <h4>DetalleProducto</h4>
        <hr />
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.Descripcion)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Descripcion)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Talla)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Talla)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Color)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Color)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.PesoKg)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.PesoKg)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Marca)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Marca)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Modelo)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Modelo)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.producto)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.producto.Codigo)
            </dd>
        </dl>
    </div-->
    <div class="row">
        <br /><br />
        <div class="col-md-4">
            <img height=380px width=380px src="~/images/productos/@Html.DisplayFor(model => model.producto.Imagen)" />
        </div>
        <div class="col-md-3">
            <h4>@Html.DisplayFor(model => model.producto.NombreProducto)</h4>
            <h3><b>$ @Html.DisplayFor(model => model.producto.PrecioUnitario) </b></h3>
            <h5>Categoria: @Html.DisplayFor(model => model.producto.Subcategoria.nombreSubcategoria)</h5>

            <dl>
                <dt>
                    @Html.DisplayNameFor(model => model.producto.Existencia)
                </dt>
                <dd>
                    @Html.DisplayFor(model => model.producto.Existencia)
                </dd>
                <br />
                <dt>@Html.DisplayNameFor(model => model.Descripcion)</dt>
                <dd>@Html.DisplayFor(model => model.Descripcion)</dd>
                <br />
                <dt>@Html.DisplayNameFor(model => model.Talla)</dt>
                <dd>@Html.DisplayFor(model => model.Talla)</dd>
                <br />
                <dt>@Html.DisplayNameFor(model => model.Color)</dt>
                <dd>@Html.DisplayFor(model => model.Color)</dd>
                <br />
            </dl>

        </div>
    </div>
</div>
